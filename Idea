1. UNK를 다음 4가지 종류로 나눌 수 있다.
  1) 인물 사진 처럼 아예 관계가 없는 사진
  2) Blur, 역광등으로 인해서 글자를 알아볼 수 없는 사진
  3) Image가 Crop 되어서 전체 글자를 신분증의 중요 정보를 볼 수 없는 사진
  4) 컴퓨터안에 있는 사진을 다시 찍은 것과 같이 신분증을 제출한 것으로 인정하기 어려운 사진

2. CNN이 학습해 주길 바라는 신분증 Feature
 0. 외국인 등록증: 푸른색 KOR
 1. 거소증 : 황토색 KOR
 2. 운전면허증: 노란색과 푸른색이 섞여 있음, 사진이 2개임, 인장
 3. 주민등록증 : 태극 무늬 사진의 위치가 다름, 인장
 4. 여권 : 다양하지만 아래의 띠가 있음

3. CNN 학습 know-how
   image classifier의 데이터를 class 당 600장까지 늘리고 resnet 50-> 101로 올리고 hidden size를 512->1024로 올렸지만
   여전히 성능은 96%에서 올라가지 않고 있다.
   더 문제는 test data로 하면 운전면허증 데이터를 거의 구분하지 못하는 양상을 보이고 있다는 것이다.
   아직도 데이터가 부족한 것일까? 1천장까지 올린다고 했을때 가장 문제는 거소증 데이터가 없다는 것이다.
   거소증 데이터를 제외하고 나머지라도 늘린다고 하면 1만장까지 늘리는 것은 가능하다. 늘려야 하는가?
   왜 이미지에서 확실한 위의 feature 찾아내지 못할까?
   이 때 ResNet Freeze를 False로 하고 학습시키면 성능이 떨어졌었다. 결국 데이터가 부족했다고 보는 것이 맞다. 현재의 성능(99.9%)는 sample을
   2,000장까지 증가시켜서 달성한 것이다.


4. 기울어진 또는 거꾸로 찍힌 신분증의 인식 문제
    Text Recognition Text가 거꾸로 들어오면 거의 인식을 못한다. Recognition Network을 거꾸로 들어오는 데이터도 인식하도록 하는 것도
    가능하겠으나 원본을 가공해서 하는 것을 하고 싶다. 왜냐하면 Text Recognition 정확도를 지금 수준보다 올리는 일이 단기간에 쉽지 않기 때문이다.
    4.1 직선을 하나 태깅해서 또는 predict 해서 사진의 angle을 표현할 수 있는가?
        사진을 회전하려면 중심점과 각도가 있어야 한다.
        중심점을 찍도록 하고 중심점에서 직선을 긋도록 하면 그리고 반드시 시계 방향으로 사진을 회전시킨다고 하면
        90과 270 회전을 어떻게 구분하여 태깅해야 하는가?
        중심점, 밑변 직선 두가지를 하면 되지 않는가?

        중심점을 기준으로 회전을 하는데 밑변 직선이 중심점의 아래에 오도록 회전하는 것은 하나 뿐 아닌가?
        --> 아니다 10도 회전과 350도 회전은 여전히 중심점 기준으로 밑선이 오도록 만드는 것으로는 표현이 어렵다.
        --> 직선이 하나 더 있다면 두개의 직선이 중심점의 왼쪽 아래에 오도록 한다면 구분할 수 있는가?
        --> Network이 2개 head로 구하도록 하면 되지 않는가?
        --> 즉 image의 좌측 수직 직선과 아래쪽 수평 직선을 각각 구하는 network을 구현하면 되지 않는가?
        --> regression으로 angle 값을 구하면 될 듯 하다.
        --> angle만? point가 있어야 하지 않는가?
        --> 아니면 좌측 점과 우측 점 3점을 구하도록 하면 어떤가?
        --> 즉 태깅을 할 때 중심점, 좌측 상단점, 우측 하단점을 태깅하도록 하면 어떤가?
        그럼 이를 보정하는 회전은 하나만 나오지 않는가?

        여권의 띠도 마찬가지이다.
        그럼 태깅할 때 점을 3번만 찍으면 된다.
        점을 찍을 것인가? rectangle을 만들 것인가?

        중심 라인을 구하는 방법, 중심점을 구하는 방법 모두 새로운 Network을 구상해야 한다는 부담이 있다.
        일단 mask RCNN으로 신분증의 사진 영역, 도장 영역, 테두리 영역, 여권의 띠 영역을 인식하도록 해서 이 정보를 기준으로 rotation 하는 것을 시도한다.